(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{42:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(18),s=r.n(n),o=(r(42),r(12)),c=r(13),l=r(16),i=r(15),d=r(9),h=r(3),u=r(0),b=function(){return Object(u.jsxs)("nav",{className:"flex items-center justify-between flex-wrap bg-gradient-to-r from-purple-500 via-purple-600 to-blue-500 p-6",children:[Object(u.jsxs)("div",{className:"flex items-center flex-no-shrink text-white mr-6",children:[Object(u.jsx)("svg",{className:"mr-2",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:Object(u.jsx)("path",{d:"M13.5 18c-.828 0-1.5.672-1.5 1.5 0 .829.672 1.5 1.5 1.5s1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm-3.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm13.257-14.5h-1.929l-3.473 12h-13.239l-4.616-11h2.169l3.776 9h10.428l3.432-12h4.195l-.743 2zm-13.537 4.183l-2.325-2.183-1.395 1.435 3.746 3.565 6.559-6.592-1.422-1.408-5.163 5.183z"})}),Object(u.jsx)("span",{className:"font-semibold text-xl tracking-tight italic",children:"Shopping Cart"})]}),Object(u.jsx)("div",{className:"w-full block flex-end lg:flex lg:items-center lg:w-auto",children:Object(u.jsxs)("div",{className:"text-md lg:flex-grow",children:[Object(u.jsx)(d.b,{to:"/",className:"block mt-4 lg:inline-block lg:mt-0 text-white hover:text-gray-200 mr-4",children:"Shop"}),Object(u.jsx)(d.b,{to:"cart",className:"block mt-4 lg:inline-block lg:mt-0 text-white hover:text-gray-200 mr-4",children:"My Cart"})]})})]})},p=r(14),x="ADD_TO_CART",m="SUBTRACT_FROM_CART",j=r(36),g=r.n(j),f=function(e){Object(l.a)(r,e);var t=Object(i.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).handleAdd=function(t,r,a){e.props.addToCart(t,r,a)},e.handleSubtract=function(t){e.props.subtractFromCart(t)},e.handleSearchSubmit=function(t){t.preventDefault();for(var r,a=[],n=e.state.searchValue,s=0;s<e.state.forSaleItems.length;s++)e.state.forSaleItems[s].name.toString().toLowerCase().includes(n.toString().toLowerCase())&&a.push(e.state.forSaleItems[s]);a.length>0&&(r=a.map((function(t){return Object(u.jsx)("li",{className:"bg-white border-2 border-blue-500 rounded-xl px-8 py-6 mb-2 cursor-pointer shadow hover:shadow-xl transition duration-300 ease-in-out",children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h3",{className:"mb-3 text-xl font-semibold text-purple-600",children:t.name}),Object(u.jsxs)("p",{children:["Unit Price: $",parseFloat(t.price).toFixed(2)]}),Object(u.jsxs)("p",{children:["Category: ",t.type]}),Object(u.jsxs)("div",{className:"flex justify-center",children:[Object(u.jsx)("button",{className:"bg-purple-700 hover:bg-purple-900 shadow hover:shadow-xl text-white font-bold py-2 px-4 my-2 mx-3 rounded border-2 border-blue-500",onClick:function(){e.handleAdd(t.id,t.name,t.price)},children:"+"}),Object(u.jsx)("button",{className:"bg-purple-600 hover:bg-purple-900 shadow hover:shadow-xl text-white font-bold py-2 px-4 my-2 mx-3 rounded border-2 border-blue-400",onClick:function(){e.handleSubtract(t.id)},children:"-"})]})]})},t.id)}))),e.setState({searchedItems:r,showAllItems:!1})},e.resetDropdown=function(){document.getElementsByTagName("select")[0].value="Select Category"},e.resetSearch=function(){document.getElementsByTagName("input")[0].value=""},e.handleSearchValueChange=function(t){var r=t.target;e.resetDropdown(),e.setState({searchValue:r.value,showAllItems:!0})},e.handleDropdownValueChange=function(t){var r=t.target;if(e.resetSearch(),"Select Category"===r.value)e.setState({showAllItems:!0});else{for(var a,n=[],s=r.value,o=0;o<e.state.forSaleItems.length;o++)e.state.forSaleItems[o].type.toString().toLowerCase()===s.toString().toLowerCase()&&n.push(e.state.forSaleItems[o]);n.length>0&&(a=n.map((function(t){return Object(u.jsx)("li",{className:"bg-white border-2 border-blue-500 rounded-xl px-8 py-6 mb-2 cursor-pointer shadow hover:shadow-xl transition duration-300 ease-in-out",children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h3",{className:"mb-3 text-xl font-semibold text-purple-600",children:t.name}),Object(u.jsxs)("p",{children:["Unit Price: $",parseFloat(t.price).toFixed(2)]}),Object(u.jsxs)("p",{children:["Category: ",t.type]}),Object(u.jsxs)("div",{className:"flex justify-center",children:[Object(u.jsx)("button",{className:"bg-purple-700 hover:bg-purple-900 shadow hover:shadow-xl text-white font-bold py-2 px-4 my-2 mx-3 rounded border-2 border-blue-500",onClick:function(){e.handleAdd(t.id,t.name,t.price)},children:"+"}),Object(u.jsx)("button",{className:"bg-purple-600 hover:bg-purple-900 shadow hover:shadow-xl text-white font-bold py-2 px-4 my-2 mx-3 rounded border-2 border-blue-400",onClick:function(){e.handleSubtract(t.id)},children:"-"})]})]})},t.id)}))),e.setState({searchedItems:a,showAllItems:!1})}},e.state={forSaleItems:[],error:"",searchValue:"",searchedItems:"",showAllItems:!0,matchFound:!1,loading:!0},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://my-json-server.typicode.com/steelmasterj/myjsonserver/data").then((function(t){e.setState({forSaleItems:t.data,error:"",loading:!1})})).catch((function(t){console.log("Error fetching and parsing data",t),e.setState({error:"error fetching data",loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.forSaleItems.map((function(t){return Object(u.jsx)("li",{className:"bg-white border-2 border-blue-500 rounded-xl px-8 py-6 mb-2 cursor-pointer shadow hover:shadow-xl transition duration-300 ease-in-out",children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h3",{className:"mb-3 text-xl font-semibold text-purple-600",children:t.name}),Object(u.jsxs)("p",{children:["Unit Price: $",parseFloat(t.price).toFixed(2)]}),Object(u.jsxs)("p",{children:["Category: ",t.type]}),Object(u.jsxs)("div",{className:"flex justify-center",children:[Object(u.jsx)("button",{className:"bg-purple-700 hover:bg-purple-900 shadow hover:shadow-xl text-white font-bold py-2 px-4 my-2 mx-3 rounded border-2 border-blue-500",onClick:function(){e.handleAdd(t.id,t.name,t.price)},children:"+"}),Object(u.jsx)("button",{className:"bg-purple-600 hover:bg-purple-900 shadow hover:shadow-xl text-white font-bold py-2 px-4 my-2 mx-3 rounded border-2 border-blue-400",onClick:function(){e.handleSubtract(t.id)},children:"-"})]})]})},t.id)})),r=this.state.searchedItems;return Object(u.jsxs)("div",{className:"pt-8 flex flex-col bg-gradient-to-b from-blue-300 via-purple-200 to-white h-screen",children:[Object(u.jsx)("h1",{className:"mx-auto text-4xl text-purple-600 font-semibold mb-8 italic tracking-tight",children:"Items Available Today"}),this.props.total>0?Object(u.jsxs)("p",{className:"mx-auto text-purple-600 text-2xl",children:["Current Grand Total: $",parseFloat(this.props.total).toFixed(2)]}):Object(u.jsx)("div",{}),this.props.total>0?Object(u.jsx)(d.b,{to:"/cart",className:"mx-auto",children:Object(u.jsx)("button",{className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 m-1 rounded",children:"Go To Your Cart"})}):Object(u.jsx)("div",{}),!1!==this.state.showAllItems||this.state.searchedItems?Object(u.jsx)("div",{}):Object(u.jsx)("p",{className:"mx-auto text-red-500",children:"No Results :( Try Searching Again"}),Object(u.jsxs)("div",{className:"flex sm:flex-row flex-col gap-6",children:[Object(u.jsx)("div",{className:"mx-auto sm:ml-auto",children:Object(u.jsx)("form",{onSubmit:this.handleSearchSubmit,children:Object(u.jsx)("input",{className:"h-8 w-64 mx-auto block my-4 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring",type:"search",name:"search",onChange:this.handleSearchValueChange,placeholder:"Search","aria-label":"Search",required:!0})})}),Object(u.jsx)("div",{className:"mx-auto sm:mr-auto",children:Object(u.jsx)("form",{children:Object(u.jsx)("div",{className:"text-center",children:Object(u.jsxs)("select",{className:"h-8 w-64 mx-auto my-4 rounded border-gray-300 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50 shadow",name:"meet-time",id:"meet-time",onChange:this.handleDropdownValueChange,children:[Object(u.jsx)("option",{value:"Select Category",children:"Select Category"}),Object(u.jsx)("option",{value:"Bakery",children:"Bakery"}),Object(u.jsx)("option",{value:"Dairy",children:"Dairy"}),Object(u.jsx)("option",{value:"Fruit",children:"Fruit"}),Object(u.jsx)("option",{value:"Meat",children:"Meat"}),Object(u.jsx)("option",{value:"Vegan",children:"Vegan"}),Object(u.jsx)("option",{value:"Vegetable",children:"Vegetable"})]})})})})]}),this.state.error?Object(u.jsx)("p",{className:"mx-auto text-red-500",children:"Error Fetching data! :("}):Object(u.jsx)("div",{}),!1===this.state.loading?Object(u.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pt-6 mx-8",children:this.state.showAllItems?t:r}):Object(u.jsx)("p",{className:"mx-auto",children:"Loading items..."})]})}}]),r}(a.Component),O=Object(p.b)((function(e){return{total:e.total}}),(function(e){return{addToCart:function(t,r,a){e(function(e,t,r){return{type:x,id:e,name:t,price:r}}(t,r,a))},subtractFromCart:function(t){e(function(e){return{type:m,id:e}}(t))}}}))(f),v=function(e){Object(l.a)(r,e);var t=Object(i.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.items.length?this.props.items.map((function(e){return Object(u.jsx)("li",{className:"bg-white border-2 border-blue-500 rounded-xl px-8 py-6 mb-2 cursor-pointer shadow hover:shadow-xl transition duration-300 ease-in-out",children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h3",{className:"mb-3 text-xl font-semibold text-purple-600",children:e.name}),Object(u.jsxs)("p",{children:["Unit Price: $",parseFloat(e.price).toFixed(2)]}),Object(u.jsxs)("p",{children:["Quantity: ",e.quantity]}),Object(u.jsxs)("p",{children:["Total Item Price: $",parseFloat(e.price*e.quantity).toFixed(2)]})]})},e.id)})):Object(u.jsxs)("div",{className:"mx-auto",children:[Object(u.jsx)("p",{className:"text-1xl text-red-600 font-extrabold mb-8 text-center",children:"Nothing In Cart"}),Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("button",{className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 m-1 rounded",children:"Continue Shopping"})})]});return Object(u.jsxs)("div",{className:"pt-8 flex flex-col bg-gradient-to-b from-blue-300 via-purple-200 to-white h-screen",children:[Object(u.jsx)("h1",{className:"mx-auto text-4xl text-purple-600 font-semibold mb-8 italic tracking-tight",children:"Your Cart"}),0===this.props.total?Object(u.jsx)("div",{}):Object(u.jsx)(d.b,{to:"/",className:"mx-auto",children:Object(u.jsx)("button",{className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 m-1 rounded",children:"Continue Shopping"})}),Object(u.jsx)("ul",{className:0===this.props.total?"grid grid-cols-1 gap-8 pt-16 mx-8":"grid grid-cols-1 md:grid-cols-3 gap-8 pt-16 mx-8",children:e}),Object(u.jsx)("div",{children:Object(u.jsx)("h2",{className:"text-4xl font-bold text-gray-800 mt-8 text-center",children:0===this.props.total?"":"Grand Total: $".concat(parseFloat(this.props.total).toFixed(2))})})]})}}]),r}(a.Component),y=Object(p.b)((function(e){return{items:e.cartItems,total:e.total}}))(v),w=function(e){Object(l.a)(r,e);var t=Object(i.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(u.jsx)(d.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{}),Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{exact:!0,path:"/",component:O}),Object(u.jsx)(h.a,{path:"/cart",component:y})]})]})})}}]),r}(a.Component),N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,68)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),s(e),o(e)}))},S=r(37),C=r(10),I={cartItems:[],total:0},F=function(e,t,r){return{id:e,name:t,price:r,quantity:0}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;if(t.type===x){var r=F(t.id,t.name,t.price);console.log(t.id);var a=e.cartItems.find((function(e){return t.id===e.id}));if(a)return console.log("existed item id = "+a.id),a.quantity+=1,Object(C.a)(Object(C.a)({},e),{},{total:e.total+r.price});r.quantity=1;var n=e.total+r.price;return Object(C.a)(Object(C.a)({},e),{},{cartItems:[].concat(Object(S.a)(e.cartItems),[r]),total:n})}if(t.type===m){var s=e.cartItems.find((function(e){return e.id===t.id}));if(s){if(1===s.quantity){var o=e.cartItems.filter((function(e){return e.id!==t.id})),c=e.total-s.price;return Object(C.a)(Object(C.a)({},e),{},{cartItems:o,total:c})}s.quantity-=1;var l=e.total-s.price;return Object(C.a)(Object(C.a)({},e),{},{total:l})}return e}return e},A=r(20),T=Object(A.b)(k);s.a.render(Object(u.jsx)(p.a,{store:T,children:Object(u.jsx)(w,{})}),document.getElementById("root")),N()}},[[67,1,2]]]);
//# sourceMappingURL=main.d2c7f8b5.chunk.js.map